var reco_assets=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var t=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(t){var n,r;n=e,r=function(){var e=function(e,t){var n=e.parentNode;n&&n.replaceChild(t,e)};return{lazyLoad:function(t,n){var r=function(e){return{src:e.getAttribute("data-src"),alt:e.getAttribute("data-alt"),title:e.getAttribute("data-title"),errorHandler:e.getAttribute("data-error-handler"),srcset:e.getAttribute("data-srcset")}}(t);n=function(e){return e||{}}(n),r.src&&(r.alt||""===r.alt)?function(t,n,r){var i=document.createElement("img");i.onload=function(){r&&r.call(i)},n.title&&(i.title=n.title),n.errorHandler&&i.setAttribute("onerror",n.errorHandler),n.srcset&&i.setAttribute("srcset",n.srcset),i.alt=n.alt,i.src=n.src,e(t,i)}(t,r,n.onloadCallback):n.onerrorCallback&&n.onerrorCallback.call(t)}}},t.exports?t.exports=r():n.FOOLAZY=r()})),n=function(e){var t={registerOnClickHandler:function(t){e.addEventListener("click",t)},hide:function(){e.classList.contains("reco_cinema__button--hide")||e.classList.add("reco_cinema__button--hide")},show:function(){e.classList.contains("reco_cinema__button--hide")&&e.classList.remove("reco_cinema__button--hide")}};return t.initializeButtonPosition=function(t){var n=function(e){return(e+8)/2-20}(t);e.style.marginTop="".concat(n,"px")},t};function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=function(e){if(o_global&&o_global.debug&&o_global.debug.status&&!0===o_global.debug.status().activated){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(e,n)}},a={sendEventRequest:function(e){o_tracking.bct.sendEventToTrackingServer(e),i("cinema event tracking",e)},sendEventMergeRequest:function(e,t){o_tracking.bct.sendEventMergeToTrackingServer(e,t),i("cinema event merge tracking",e,t)},sendMergeRequest:function(e){o_tracking.bct.sendMergeToTrackingServer(e),i("cinema merge tracking",e)},trackOnNextPageImpression:function(e){o_tracking.bct.trackOnNextPageImpression(e),i("cinema tracking event on next page impression",e)},sendMoveRequest:function(e){o_tracking.bct.submitMove(e),i("cinema move tracking",e)},sendViewPageEvent:function(e){o_global.eventQBus.emit("tracking.bct.addFeaturesToPageImpression",e),i("cinema view page tracking",e)}},o=a,c=function(){var e={},t=[],n={};return e.addAdditionalInformation=function(e,t){n[e]=t},e.addMultipleAdditionalInformation=function(e){n=Object.assign(n,e)},e.addTile=function(e){e&&t.push(e)},e.translateLabelToIndex={promo_Content:0,mas_featureSequence:1,promo_FilledSlots:2,promo_Position:3,promo_Source:4,promo_Activity:5},e.masTracking=function(t,n){for(var r={},i=[],a=0;a<t.length;a++){var o=t[a];i[a]=e.initializeRow(6);for(var c=0,l=Object.entries(o);c<l.length;c++){var d=l[c],u=d[0],s=d[1],m=e.translateLabelToIndex[u];i[a][m]=s}}return r[n]=e.mergeToPayloadInfinitySymbol(i),r},e.getPromoTeslaAttributionLabel=function(e){var t="";for(var n in e)t=0===t.length?n+"="+e[n]:t+"$"+n+"="+e[n];return t},e.filterTiles=function(t){for(var n=t[0].promo_Type,r=[],i=[],a=0;a<t.length;a++){var o=t[a],c={},l={},d=Object.entries(o).filter((function(e){return"promo_Type"!==e[0]})),u=!0,s=!1,m=void 0;try{for(var f,g=d[Symbol.iterator]();!(u=(f=g.next()).done);u=!0){var p=f.value;e.filterMasProperties(p)?c[p[0]]=p[1]:l[p[0]]=p[1]}}catch(e){s=!0,m=e}finally{try{u||null==g.return||g.return()}finally{if(s)throw m}}r.push(c),i.push(l)}return[r,n,i]},e.filterMasProperties=function(t){return Object.keys(e.translateLabelToIndex).includes(t[0])},e.build=function(){var i={};if(t.length>0){var a=r(e.filterTiles(t),3),o=a[0],c=a[1],l=a[2];Object.assign(i,e.masTracking(o,c)),Object.assign(i,e.buildGenericTracking(l))}return Object.assign(i,n),i},e.buildGenericTracking=function(t){for(var n={},r=t.length,i=0;i<t.length;i++)for(var a=t[i],o=0,c=Object.entries(a);o<c.length;o++){var l=c[o];l[1]&&(n[l[0]]||(n[l[0]]=e.initializeRow(r)),n[l[0]][i]=l[1])}return e.mergeToPayload(n)},e.mergeToPayload=function(e){for(var t={},n=0,r=Object.entries(e);n<r.length;n++){var i=r[n];t[i[0]]=i[1].join("|")}return t},e.mergeToPayloadInfinitySymbol=function(t){if(t instanceof Array){for(var n=[],r=0,i=Object.entries(t);r<i.length;r++){var a=i[r];n.push(a[1].join("∞"))}return n.join("|")}return e.mergeToPayload(t)},e.initializeRow=function(e){for(var t=[],n=0;n<e;n++)t.push("");return t},e};var l={generate:function(){return"ft6bcn_"+(+new Date).toString(36).slice(-5)}},d=function(e,t,n,r,i,a,o){e.forEach((function(e,c){var l=e.getTrackingData(),d={};d.promo_Activity=t,d.promo_Position=(c+n+1).toString(),d.promo_FilledSlots=r.toString(),d.mas_featureSequence=a+"$"+o;var u,s=e.getActivityTrackingData(t);i.addTile((u={},[l,d,s].forEach((function(e){u=Object.assign(u,e)})),u))}))},u={trackView:function(e,t,n,r,i,a,l){var u=c();d(e,"view",0,t,u,a,l),u.addMultipleAdditionalInformation(i),r.hasOwnProperty("promo_RecoOfferCount")&&u.addAdditionalInformation("promo_RecoOfferCount",r.promo_RecoOfferCount),n?o.sendEventMergeRequest(u.build(),n):o.sendMergeRequest(u.build())},trackJsonView:function(e,t,n,r,i,a){if(!n){var c=l.generate(),d=e[0].getTrackingData().promo_Type.replace("promo_",""),u={id:c,name:d,position:parseInt(i),status:"loaded",labels:{promo_FeatureNumber:[""+a],promo_FilledSlots:[""+t]}},s=e.map((function(e,t){return{id:c+"_"+(t+1),variationId:e.getVariationId(),name:d+"-Product",parentId:c,position:t+1,status:"loaded",labels:{promo_Source:[e.getTrackingData().promo_Source]}}})),m=[u].concat(s);o.sendViewPageEvent(m)}},trackScroll:function(e,t,n,r,i,a,l,u){var s=c();d(e,a,n,t,s,l,u),s.addAdditionalInformation("product_VariationId",r.product_VariationId),s.addMultipleAdditionalInformation(i),o.sendEventRequest(s.build())},trackClick:function(e,t,n,r,i,a,l){var d=c(),u=Object.assign({},e.getTrackingData()),s=e.getActivityTrackingData("click"),m=u.promo_Type,f=u.promo_Content,g=u.promo_Source,p=n+1+"";delete u.promo_Type,delete u.promo_Content,delete u.promo_Source;var _="".concat(f,"∞").concat(a,"$").concat(l,"∞").concat(t,"∞").concat(p,"∞").concat(g,"∞").concat("click");d.addAdditionalInformation(m,_),d.addAdditionalInformation("product_VariationId",e.getVariationId()),d.addAdditionalInformation("wk.promo_Attribution",m+"∞"+_),d.addAdditionalInformation("ot_AccPath","PE-"+r.ot_AccPath_Suffix),d.addAdditionalInformation("wk.promo_TeslaAttribution",d.getPromoTeslaAttributionLabel(u)),d.addMultipleAdditionalInformation(u),d.addMultipleAdditionalInformation(s),d.addMultipleAdditionalInformation(i),o.sendMoveRequest(d.build())},trackOpenedCinema:function(e,t,n,r,i,a){var l=c();d(e,r,n,t,l,"99","99"),l.addAdditionalInformation("product_VariationId",i.product_VariationId),l.addMultipleAdditionalInformation(a),o.sendEventRequest(l.build())},trackClosedCinema:function(e,t,n,r,i){var a=c();a.addAdditionalInformation(t,"".concat("Empfehlungen","∞").concat("99","$").concat("99","∞").concat(e,"∞").concat("NA","∞").concat("NA","∞").concat(n)),a.addAdditionalInformation("product_VariationId",r.product_VariationId),a.addMultipleAdditionalInformation(i),o.sendEventRequest(a.build())}},s=u,m=function(e,t,n,i){var a={};a.domWrapper={setMinWidth:function(t){return e.style.minWidth="".concat(t,"px")},setMaxWidth:function(t){return e.style.maxWidth="".concat(t,"px")},addLoaderClass:function(){return e.getElementsByClassName("reco_cinema__image__spinner")[0].classList.add("p_loader250")},articleImagePlaceholderElement:function(){return e.getElementsByClassName("reco_cinema__image_placeholder")[0]},articleImageElement:function(){return e.getElementsByTagName("img")[0]},imageContainerElement:function(){return e.getElementsByClassName("reco_cinema__image")[0]},loaderBoxElement:function(){return e.getElementsByClassName("reco_cinema__image__spinner_box")[0]},articleVariationIds:function(){return JSON.parse(e.getAttribute("data-article-variation-ids"))||[]},cinemaType:function(){return e.getAttribute("data-cinema-type")},variationId:function(){return e.getAttribute("data-variation-id")},productTitle:function(){return e.querySelector(".reco_cinema__adslink").getAttribute("title")||"Unknown"},adsLink:function(){return e.querySelector(".reco_cinema__adslink")},tilesLength:function(){return t.length},tilesIndex:function(){return t.indexOf(e)},trackingData:function(){return n.getTrackingData()},additionalTrackingData:function(){return n.getAdditionalTrackingData()},featureIndex:function(){return n.getFeatureIndex()}},a.getTrackingData=function(){return JSON.parse(e.getAttribute("data-tracking"))},a.getVariationId=function(){return e.getAttribute("data-variation-id")},a.getActivityTrackingData=function(t){var n="click"===t?"Click":"View",i=e.getAttribute("data-activity-tracking");if(!i)return{};var a={};return Object.entries(JSON.parse(i)).forEach((function(e){var t=r(e,2),i=t[0],o=t[1];return a[i+n]=o})),a},a.update=function(e){c(e)};var o=function(){a.domWrapper.imageContainerElement().removeChild(a.domWrapper.loaderBoxElement())};a.lazyLoad=function(){return new Promise((function(e,t){a.domWrapper.articleImagePlaceholderElement()?(a.domWrapper.addLoaderClass(),window.o_reco.justlazy.lazyLoad(a.domWrapper.articleImagePlaceholderElement(),{onloadCallback:function(){o(),e("Successfully loaded image.")},onerrorCallback:function(){o(),t("Failed to load image.")}})):e("Image already loaded")})).then((function(){return a.domWrapper.articleImageElement().clientHeight}))},a.setImageContainerHeight=function(e){a.domWrapper.imageContainerElement().style.minHeight="".concat(e,"px")};var c=function(e){var t=a.domWrapper.articleImageElement();t&&(t.style.height=""),a.domWrapper.setMinWidth(e),a.domWrapper.setMaxWidth(e)};return a.domWrapper.adsLink().addEventListener("click",(function(){return s.trackClick(a,a.domWrapper.tilesLength(),a.domWrapper.tilesIndex(),a.domWrapper.trackingData(),a.domWrapper.additionalTrackingData(),i,a.domWrapper.featureIndex())})),a},f=function(e,t,n,r,i){var a,o={},c=!1,l=e.firstVisibleTileIndex(),d=-1;o.debounce=function(e,t){var n,r=function(){n=null,e()};return function(){clearTimeout(n),n=setTimeout(r,t)}},o.scrollLeft=function(t){var n=e.fullyVisibleTilesPerPage(),r=e.firstVisibleTileIndex(),i=Math.max(0,r-n);u(i,t)},o.scrollRight=function(n){var r=e.fullyVisibleTilesPerPage(),i=e.firstVisibleTileIndex(),a=t.length-r,o=Math.min(i+r,a);u(o,n)};var u=function(t,n){t!==d&&(d=t,e.scrollTo(t,n))};o.isAtLeftBorder=function(){return e.isAtLeftBorder()},o.isAtRightBorder=function(){return e.isAtRightBorder()},o.tileCount=function(){return t.length},o.getPromoType=function(){return t.length>0&&t[0].getTrackingData().promo_Type||null},o.getFirstVisibleTileIndex=e.firstVisibleTileIndex,o.getAllVisibleTiles=function(){var n=e.fullyVisibleTilesPerPage(),r=e.firstVisibleTileIndex();return t.slice(r,r+n)},o.getAllVisibleTilesWithHalfVisibleTiles=function(){var n=e.fullyVisibleTilesPerPage(),r=e.firstVisibleTileIndex();return t.slice(r,r+n+1)},o.updateTiles=function(){var n=e.tileWidthPx();return t.forEach((function(e,t){var r=m(t,n);e.update(r)})),o.loadImages()},o.trackScrollLeft=function(){s.trackScroll(o.getAllVisibleTiles(),t.length,e.firstVisibleTileIndex(),n.getTrackingData(),n.getAdditionalTrackingData(),"left",i,n.getFeatureIndex())},o.trackScrollRight=function(){s.trackScroll(o.getAllVisibleTiles(),t.length,e.firstVisibleTileIndex(),n.getTrackingData(),n.getAdditionalTrackingData(),"right",i,n.getFeatureIndex())},o.registerScrollHandler=function(){e.registerScrollHandler(p)},o.loadImages=function(){var e=o.getAllVisibleTilesWithHalfVisibleTiles().map((function(e){return e.lazyLoad()}));return Promise.race(e).then(f)};var m=function(e,n){return r||0!==e&&e!==t.length-1?n:n-4},f=function(e){return a||(a=e),t.forEach((function(e){e.setImageContainerHeight(a+8)})),a},g=o.debounce((function(){var t=e.firstVisibleTileIndex();t>l?o.trackScrollRight():t<l&&o.trackScrollLeft(),c=!1}),150),p=function(){g(),o.loadImages(),c||(l=e.firstVisibleTileIndex(),c=!0)};return o},g=function(e,t){var n={TILE_COUNT_S_M_PORTRAIT:2,TILE_COUNT_S_M_LANDSCAPE:1,TILE_COUNT_S_M_SQUARE:2,TILE_COUNT_S_M_MIXED:2,TILE_COUNT_L_XL_PORTRAIT:4,TILE_COUNT_L_XL_LANDSCAPE:3,TILE_COUNT_L_XL_SQUARE:5,TILE_COUNT_L_XL_MIXED:4};n.domWrapper={getCurrentScrollPositionPx:function(){return e.scrollLeft},setCurrentScrollPositionPx:function(t){e.scrollLeft=t},getContentWidthPx:function(){return e.scrollWidth},getSlidingWindowWidthPx:function(){return e.offsetWidth},getCinemaMode:function(){return e.getAttribute("data-cinema-mode")}};function r(e,t,n){return e<700?t:n}n.isAtLeftBorder=function(){return 0===Math.floor(n.domWrapper.getCurrentScrollPositionPx())},n.isAtRightBorder=function(){var e=n.domWrapper.getContentWidthPx()-1,t=n.domWrapper.getSlidingWindowWidthPx();return e<=Math.ceil(n.domWrapper.getCurrentScrollPositionPx())+t},n.fullyVisibleTilesPerPage=function(){var e=n.domWrapper.getSlidingWindowWidthPx(),t=n.domWrapper.getCinemaMode();return"PORTRAIT"===t?r(e,n.TILE_COUNT_S_M_PORTRAIT,n.TILE_COUNT_L_XL_PORTRAIT):"LANDSCAPE"===t?r(e,n.TILE_COUNT_S_M_LANDSCAPE,n.TILE_COUNT_L_XL_LANDSCAPE):"SQUARE"===t?r(e,n.TILE_COUNT_S_M_SQUARE,n.TILE_COUNT_L_XL_SQUARE):"MIXED"===t?r(e,n.TILE_COUNT_S_M_MIXED,n.TILE_COUNT_L_XL_MIXED):(i("data-cinema-mode attribute not found or invalid"),n.TILE_COUNT_L_XL_SQUARE)};n.tileWidthPx=function(){return n.domWrapper.getSlidingWindowWidthPx()/(n.fullyVisibleTilesPerPage()+.5)},n.firstVisibleTileIndex=function(){var e=n.domWrapper.getCurrentScrollPositionPx();return Math.ceil(e/n.tileWidthPx())},n.scrollTo=function(e,r){var i=n.tileWidthPx()/4,o=a(e*n.tileWidthPx()-i-4),c=n.domWrapper.getCurrentScrollPositionPx();t.scrollAnimation(c,o,n.domWrapper.setCurrentScrollPositionPx,r)},n.registerScrollHandler=function(t){e.addEventListener("scroll",t)};var a=function(e){var t=n.domWrapper.getContentWidthPx()-n.domWrapper.getSlidingWindowWidthPx();return e=Math.max(0,e),e=Math.min(t,e)};return n},p=function(){var e={},t=o_util.animation.easings.easeOutCubic;e.registerAnimationStartedCallback=function(e){setTimeout(e,125)},e.scrollAnimation=function(t,r,i,a){e.registerAnimationStartedCallback(a),n(t,r,i,a)};var n=function e(n,i,a,o){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=(new Date).getTime(),d=(l-(c=0===c?l:c))/500;if(d>1)return a(i),void o();var u=r(n,i,d,t);a(u),o_util.animation.requestAnimFrame((function(){e(n,i,a,o,c)}))},r=function(e,t,n,r){return e-(e-t)*r(n)};return e},_=function(e){var t={registerResizeHandler:function(e){window.addEventListener("resize",e)},getAdditionalTrackingData:function(){return JSON.parse(e.getAttribute("data-additional-tracking"))},getTrackingData:function(){return JSON.parse(e.getAttribute("data-tracking"))},getFeatureIndex:function(){return e.getAttribute("data-feature-index")},isAddToBasketEnabled:function(){return"true"===e.getAttribute("data-add-to-basket-enabled")}};return t},v=function(e){var t=T(e);t.classList.add("p_animation__fadeOut"),t.style.display="none"},h=function(e){var t=b(e);t.classList.add("p_animation__fadeIn"),t.classList.remove("p_animation__initialHidden")},T=function(e){return document.querySelector('[data-variation-id="'.concat(e,'"] .reco_cinema__add-to-basket'))},b=function(e){return document.querySelector('[data-variation-id="'.concat(e,'"] .reco_cinema__add-to-basket-success'))},y=function(){return document.querySelector(".reco_basket_layer_cinema .reco_cinema__add-to-basket-error")},k={getAddToBasketButtonForVariationId:T,updateAddToBasketButtonOnSuccess:v,updateSuccessMessageButton:h,getSuccessButtonForVariationId:b,addErrorMessageToCinema:function(){y().style.display="block"},updateButtonOnSuccess:function(e){v(e),h(e)},attachClickListener:function(e){document.querySelectorAll(".reco_cinema__add-to-basket").forEach((function(t){t.addEventListener("click",(function(){return e(t.parentNode.parentNode.getAttribute("data-variation-id"))}))}))},getSourceVariationId:function(){return document.querySelector("[data-source-variation-id]").getAttribute("data-source-variation-id")},getSourceArticleNumber:function(){return document.querySelector("[data-source-article-number]").getAttribute("data-source-article-number")},getPromoSource:function(e){var t=document.querySelector('[data-variation-id="'.concat(e,'"]')).getAttribute("data-tracking");return JSON.parse(t).promo_Source}},C=function(e){window.o_global.eventQBus.emit("ft1.order-core.addToBasket",{variationId:e,quantity:1,itemOrigin:"wkbl",tracking:{promo_OriginalA2BArticle:"".concat(k.getSourceVariationId(),"∞").concat(k.getSourceArticleNumber()),promo_TeslaSource:k.getPromoSource(e)}})},P=function(){window.o_global.eventQBus.on("ft1.order-core.addToBasketResult",(function(e){e.successful?function(e){k.updateButtonOnSuccess(e.variationId)}(e):k.addErrorMessageToCinema()}))};var w=function(){P(),k.attachClickListener(C)},I=function(e){return[].slice.call(e)},A=function(e,t,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o={},c=function(){C.isAtLeftBorder()?P.hide():P.show(),C.isAtRightBorder()?A.hide():A.show()},l=function(){return C.updateTiles().then((function(e){c(),P.initializeButtonPosition(e),A.initializeButtonPosition(e)}))},d=function(e){var t=C.getAllVisibleTiles(),n=C.tileCount(),a=T.getAdditionalTrackingData(),o=T.getTrackingData(),c=T.getFeatureIndex();s.trackView(t,n,r,o,a,e,c);try{s.trackJsonView(t,n,r,a,e,c)}catch(e){i("trackJsonView Error",e)}},u=e.parentNode,v=u&&u.getAttribute("data-feature-order")||"99",h=e.classList.contains("reco_cinema")?e:e.getElementsByClassName("reco_cinema")[0],T=_(h),b=I(e.getElementsByClassName("reco_cinema__tile")),y=b.map((function(e){return m(e,b,T,v)})),k=g(e.getElementsByClassName("reco_cinema__tiles")[0],p()),C=f(k,y,T,t,v);C.registerScrollHandler();var P=n(e.getElementsByClassName("reco_cinema__button-left")[0]);P.registerOnClickHandler((function(){return C.scrollLeft(c)}));var A=n(e.getElementsByClassName("reco_cinema__button-right")[0]);return A.registerOnClickHandler((function(){return C.scrollRight(c)})),T.registerResizeHandler(l),a&&d(v),o.isLoaded=l(),o.performLayout=l,T.isAddToBasketEnabled()&&w(),o.getVisibleTiles=C.getAllVisibleTiles,o.getTileCount=C.tileCount,o.getFirstTileIndex=C.getFirstVisibleTileIndex,o.getPromoType=C.getPromoType,o.getTrackingData=T.getTrackingData,o},L=function(e,t){var n={};return e.addEventListener("click",(function(){e.classList.add("reco_expandable_cinema_hidden"),t.classList.remove("reco_expandable_cinema_hidden")})),n.registerOnClickHandler=function(t){e.addEventListener("click",t)},n},E=function(e,t,n){var r={};return e.addEventListener("click",(function(){t.classList.remove("reco_expandable_cinema_hidden"),n.classList.add("reco_expandable_cinema_hidden")})),r.registerOnClickHandler=function(t){e.addEventListener("click",t)},r};function S(){document.dispatchEvent(new CustomEvent("cinemaCollapseStateChanged"))}var x=function(){return function(e,t,n){var r,i=e.getElementsByClassName("reco_expandable_cinema_expanded_container")[0],a=e.getElementsByClassName("reco_cinema")[0],o=e.getElementsByClassName("reco_expandable_cinema_button_expand")[0],c=e.getElementsByClassName("reco_expandable_cinema_button_collapse")[0],l=L(o,i),d=E(c,o,i);t?(r=A(a,!0,void 0,!1),s.trackOpenedCinema(r.getVisibleTiles(),r.getTileCount(),r.getFirstTileIndex(),"view",r.getTrackingData(),n)):(r=A(a,!0,void 0,!1),s.trackClosedCinema(r.getTileCount(),r.getPromoType(),"view",r.getTrackingData(),n)),l.registerOnClickHandler((function(){r.performLayout().then((function(){S()})),s.trackOpenedCinema(r.getVisibleTiles(),r.getTileCount(),r.getFirstTileIndex(),"opened",r.getTrackingData())})),d.registerOnClickHandler((function(){s.trackClosedCinema(r.getTileCount(),r.getPromoType(),"closed",r.getTrackingData()),S()}))}},O={injectCinema:function(e,t,n){return e.innerHTML=t,A(e,!1,n).isLoaded.catch((function(t){return i(t),e.innerHTML="",Promise.reject(t)}))}},N=function(){var e={},t=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o_util.ajax.get(e).then((function(e){return 200!==e.status?Promise.reject(e):e.responseText})).then((function(e){var t=document.createElement("div");t.innerHTML=e;var r={};return n.forEach((function(e){var n=t.getElementsByClassName(e);n.length>0&&(r[e]=n[0].innerHTML)})),r}))};return e.loadDetailViewCinemas=function(e){for(var n="test/reco-core/cinemas/detailview/variations/".concat(e,"?").concat(o_tracking.bct.getMergeParameters()),r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return t.apply(void 0,[n].concat(i))},e.loadDetailViewAlternativeCinema=function(e){var n="test/reco-core/cinemas/detailview/alternative/variations/".concat(e,"?").concat(o_tracking.bct.getMergeParameters());return t(n,"alternative").then((function(e){return e&&e.alternative?e.alternative:Promise.reject("alternative cinema html missing")})).catch((function(e){i(e)}))},e.loadDetailViewComplementaryCinema=function(e){var n="test/reco-core/cinemas/detailview/complementary/variations/".concat(e,"?").concat(o_tracking.bct.getMergeParameters());return t(n,"complementary").then((function(e){return e&&e.complementary?e.complementary:Promise.reject("complementary cinema html missing")})).catch((function(e){i(e)}))},e.loadDetailViewProductLineCinema=function(e){var n="test/reco-core/cinemas/detailview/productline/variations/".concat(e,"?").concat(o_tracking.bct.getMergeParameters());return t(n,"productline").then((function(e){return e&&e.productline?e.productline:Promise.reject("productline html missing")})).catch((function(e){i(e)}))},e.loadProductlineCinema=function(e){return t("test/reco-core/cinemas/productline/variations/".concat(e),"productline").then((function(e){return e&&e.productline?e.productline:Promise.reject("productline html missing")}))},e.loadEntryPageCinema=function(e,n,r,i,a){var o="test/reco-core/cinemas/entrypage?menuItemPath=".concat(e,"&").concat(o_tracking.bct.getMergeParameters(),"&encodedDresonRule=").concat(n);return r&&(o+="&pageType=".concat(r)),i&&(o+="&index=".concat(i)),a&&(o+="&time=".concat(a)),t(o,"entryPage").then((function(e){return e&&e.entryPage?e.entryPage:Promise.reject("entryPage html missing")}))},e.loadRefactorEntryPageCinema=function(e,n,r,i){var a="test/reco-core/refactor/cinemas/entrypage?menuItemPath=".concat(e,"&").concat(o_tracking.bct.getMergeParameters(),"&encodedDresonRule=").concat(n);return r&&(a+="&pageType=".concat(r)),i&&(a+="&index=".concat(i)),t(a,"entryPage").then((function(e){return e&&e.entryPage?e.entryPage:Promise.reject("entryPage html missing")}))},e.loadOrderOverviewCinema=function(e,n){var r="test/reco-core/cinemas/orderOverview/variations/".concat(e,"?cinemaId=").concat(n.toUpperCase());return t(r,"orderoverview").then((function(e){return e&&e.orderoverview?e.orderoverview:Promise.reject("orderOverview html missing")}))},e.loadWishlistCinema=function(e){return t("test/reco-core/cinemas/wishlist/variations/".concat(e),"reco_expandable_cinema_wrapper").then((function(e){return e&&e.reco_expandable_cinema_wrapper?e.reco_expandable_cinema_wrapper:Promise.reject("wishlist html missing")}))},e},V=function(e){var t={},n="reco_cinemaLoadingStart";return t.cinemaLoadingStarted=function(){!function(t){try{e.performance.mark(t)}catch(e){i("Performance api is probably not supported in this browser")}}(n)},t.cinemaLoaded=function(t){try{!function(t){try{e.performance.measure(t,n)}catch(e){i("Performance api is probably not supported in this browser")}}(t);var r=function(t){try{return e.performance.getEntriesByName(t)}catch(e){i("Performance api is probably not supported in this browser")}}(t);if(r&&e.o_scale){i(t+" took "+r[0].duration+"ms to load");var a={};a["rum_"+t]=Math.round(r[0].duration),e.o_scale.userTiming.sendBeacon(a)}}catch(e){i("ignoring error while sending performance beacon",e)}},t},M=N(),W=V(window);window.o_reco=window.o_reco||{},window.o_reco.qa=window.o_reco.qa||{};var R,D,B=window.o_reco.qa,j=N(),q=V(window),H=N(),F=V(window),U=N(),z=x(),X=V(window),J=N(),Q=V(window);window.o_reco=window.o_reco||{},window.o_reco.private=window.o_reco.private||{},window.o_reco.justlazy=t,window.o_reco.private.initializeCinema=A,window.o_reco.private.initializeExpandableCinema=x(),window.o_reco.private.asyncLoadRecommendationsForDetailView=function(e){W.cinemaLoadingStarted();var t=e.variationId,n=e.topTarget,r=e.bottomTarget,a=e.prioTarget,o=e.eventMergeId;M.loadDetailViewAlternativeCinema(t).then((function(e){if(!e||!n)return Promise.reject("No recommendation cinema for alternative found.");var t=document.querySelector(n);if(t)return O.injectCinema(t,e,o);i("could not find target for alternative cinema css selector "+n)})).then((function(){W.cinemaLoaded("RecoDetailViewAlternative")})).catch((function(e){i(e)})),M.loadDetailViewComplementaryCinema(t).then((function(e){if(!e||!r)return Promise.reject("No recommendation cinema for complementary found.");var t=document.querySelector(r);if(t)return O.injectCinema(t,e,o);i("could not find target for complementary cinema css selector "+r)})).then((function(){W.cinemaLoaded("RecoDetailViewComplementary")})).catch((function(e){i(e)})),M.loadDetailViewProductLineCinema(t).then((function(e){if(!e||!a)return Promise.reject("No recommendation cinema for product line found.");var t=document.querySelector(a);if(t)return O.injectCinema(t,e,o);i("could not find target for product line cinema css selector "+a)})).then((function(){W.cinemaLoaded("RecoDetailViewProductline")})).catch((function(e){i(e)}))},window.o_reco.private.loadRecommendationsForProductLine=function(e){return q.cinemaLoadingStarted(),B.productLineCinemaLoaderCall=e,j.loadProductlineCinema(e.variationId).then((function(t){return t?O.injectCinema(e.targetElement,t,e.eventMergeId):Promise.reject("No recommendation cinema for productline found.")})).then((function(){q.cinemaLoaded("RecoProductline")}))},window.o_reco.private.loadRecommendationsForOrderOverview=function(e){F.cinemaLoadingStarted();var t=e.target,n=e.variationId,r=(e.trackingData,e.cinemaId);if(t&&n&&r)return H.loadOrderOverviewCinema(n,r).then((function(e){return e?O.injectCinema(t,e):Promise.reject("No recommendation cinema found for Order Overview.")})).then((function(){F.cinemaLoaded("reco_orderOverview")}))},window.o_reco.private.loadRecommendationsForWishlist=function(e,t,n){return void 0===e&&(e=U),void 0===t&&(t=z),void 0===n&&(n=X),function(r){n.cinemaLoadingStarted();var i=r.target,a=r.variationId;if(i&&a)return e.loadWishlistCinema(a).then((function(e){i.innerHTML=e})).then((function(){t(i,!1)})).then((function(){n.cinemaLoaded("reco_wishlist")}))}}(),window.o_reco.private.loadRecommendationsForEntryPage=function(e){return Q.cinemaLoadingStarted(),J.loadEntryPageCinema(e.menuItemPath,e.dresonRule,e.pageType,e.index,e.time).then((function(t){return t?t.includes("laptopAdvisorSpringBreak")?e.targetElement.innerHTML=t:O.injectCinema(e.targetElement,t):Promise.reject("No recommendation cinema for entry page found.")})).then((function(){Q.cinemaLoaded("entryPage")}))},window.o_reco.private.loadBounceLayerCinema=(R=function(e){var t=e.getElementsByClassName("reco_cinema__headline")[0];return t&&t.parentNode.removeChild(t),e},D=function(e){return e&&e.setAttribute("data-tracking",'{"ot_AccPath_Suffix":"BounceLayer"}'),e},function(e,t){var n,r,i,a=document.getElementsByClassName("reco_alternativeCinema");if(a.length>0){var o=a[0];O.injectCinema(document.getElementById(e),(n=o,r=n.cloneNode(!0),i=R(r),D(i)).outerHTML,t)}}),function(e,t){void 0===t&&(t=o);o_util.event.delegate(document,"click",".reco_privacy__info",(function(){t.sendEventRequest({promo_Privacy:"info"})})),o_util.event.delegate(document,"click",".reco_privacy__opt_out",(function(){o_util.ajax.get("test/reco-core/set-anonymous-cookie").then((function(){t.sendEventRequest({promo_Privacy:"optOut"}),e.location.reload(!0)}))})),o_util.event.delegate(document,"click",".reco_privacy__opt_in",(function(){o_util.cookie.remove("anonymous",{domain:".otto.de"}),t.sendEventRequest({promo_Privacy:"optIn"}),e.location.reload(!0)}))}(window),function(e){for(var t=document.querySelectorAll(".reco.cinema.entryPage.needsInitialization"),n=[],r=function(r){var a,o=t[r];(a=o,function(){a.classList.remove("needsInitialization")})();var c=function(t){return new Promise((function(n){var r=e.setInterval((function(){t.scrollWidth>0&&(e.clearInterval(r),n())}),50)}))}(o).then((function(){return A(o,!1).isLoaded})).catch((function(e){i(e)}));n.push(c)},a=0;a<t.length;a++)r(a);Promise.all(n)}(window);return{}}();
//# sourceMappingURL=/reco-core/assets/ft6bcn.reco-core.reco_assets.196d2cbd.js.map
