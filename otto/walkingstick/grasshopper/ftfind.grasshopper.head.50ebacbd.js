(o_san=window.o_san||{}).cache=o_san.cache||function(){"use strict";var e=function e(_e){return this.valueFn=_e,this.clear();};return e.prototype.clear=function(){return this.cache={},this;},e.prototype.store=function(e){var t=this.valueFn(e);return this.cache[e]=t,t;},e.prototype.get=function(e){return this.cache[e]||this.store(e);},{Cache:e};}(),(o_san=window.o_san||{}).toggles=o_san.toggles||function(e){"use strict";var t=null,n=null,r=null;return{isNewProductLinkActive:function isNewProductLinkActive(){var n=t||!!e.querySelector(".san_productLinkQP");return t=n,n;},isNewSuggest:function isNewSuggest(){var t=n||!!e.querySelector(".san_newSuggest");return n=t,t;},isQuickFilterEnabled:function isQuickFilterEnabled(){var t=r||!!e.querySelector(".san_quickFilter");return r=t,t;}};}(document),(o_san=window.o_san||{}).util=o_san.util||function(){"use strict";var e,t={easeIn:function easeIn(e,t,n,r){return t*(Math.pow(n/r-1,3)+1)+e;}},n={getWindowWidth:function getWindowWidth(){return window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth||0;},getWindowHeight:function getWindowHeight(){return window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||0;},findMatch:function findMatch(e,t,r){return t(e)?e:e!==r&&!!e.parentNode&&n.findMatch(e.parentNode,t,r);}},r=(e=function e(){return++this.value;},{counter:function counter(t){return o_util.core.bind({value:(t||1)-1},e);}});return{dom:n,string:{escapeSpecials:function escapeSpecials(e){var t=new RegExp("[\\\\]","g");return e.replace(t,"");},trimLeft:function trimLeft(e){return e.replace(/^\s+/,"");}},animate:function animate(e){var _n,r,s,i,a=0,o=o_util.core.extend({element:null,steps:10,to:0,onFinish:null,easing:"easeIn",type:null},e),c="scrollTop"!==o.type;null!==o.element&&null!==o.type&&(i=c?o.element.style[o.type]:o.element[o.type],s=i?parseInt(i,10):0,(_n=function n(){r=t[o.easing](s,o.to,a,o.steps),c?o.element.style[o.type]=r+"px":o.element[o.type]=r,(a+=1)<=o.steps?o_util.animation.requestAnimFrame(_n):"function"==typeof o.onFinish&&o.onFinish();})());},url:{hasQueryParameter:function hasQueryParameter(e,t){return null!==new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t||location.search+location.hash);}},global:{getCurrentPath:function getCurrentPath(){return window.location.pathname;},getReferrer:function getReferrer(){return document.referrer;},getRelativeLocation:function getRelativeLocation(){var _window$location=window.location,_window$location$path=_window$location.pathname,e=_window$location$path===void 0?"/":_window$location$path,_window$location$sear=_window$location.search,t=_window$location$sear===void 0?"":_window$location$sear,_window$location$hash=_window$location.hash,n=_window$location$hash===void 0?"":_window$location$hash;return"/"===e.slice(0,1)?e+t+n:"/"+e+t+n;},setLocation:function setLocation(e){window.location=e;}},core:r};}(),(o_san=window.o_san||{}).searchForm=o_san.searchForm||function(){"use strict";var e=function e(_e2,t){var n=this,r=_e2,s=r.getElementsByClassName("sanSearchDelBtn"),i=r.getElementsByClassName("js_searchField")[0],a=r.getElementsByClassName("js_submitButton")[0],o=i.placeholder||i.getAttribute("placeholder"),c=i.getAttribute("data-error"),u="";this.getSearchField=function(){return i;},this.getValue=function(){return i.value;},this.setValue=function(e){i.value=e;},this.isOnDefault=function(){return this.getValue()===c||this.getValue()===o;},this.isEmpty=function(){return this.getValue().length<1||this.isOnDefault();},this.hideDeleteButton=function(){i.classList.remove("sanDelShow");},this.showDeleteButton=function(){i.classList.add("sanDelShow");},this.focusSearchField=function(){i.focus();},this.resetHandler=function(){this.hideDeleteButton(),this.focusSearchField();},this.toggleDeleteButtonVisibility=function(){this.isEmpty()?this.hideDeleteButton():this.showDeleteButton();},this.checkFormInput=function(){var e=!0;return this.isEmpty()&&(i.value=c,i.classList.remove("hint"),i.classList.add("p_form__input--error"),a.focus(),e=!1),e;},this.clearFormField=function(){i.classList.remove("p_form__input--error"),this.isOnDefault()&&this.setValue("");},this.fillDefaultText=function(){""===this.getValue()?(this.setValue(o),i.classList.add("hint")):i.classList.remove("hint");},this.enableSearch=function(){i.removeAttribute("disabled"),a.removeAttribute("disabled");},this.submitSearch=function(){var e,t,n,s=i.value.trim(),a=r.getAttribute("data-target"),o={};this.checkFormInput(s)&&(a?e=a:(e=r.getAttribute("action")+"/"+encodeURIComponent(o_san.util.string.escapeSpecials(s))+"/",t=r.getAttribute("data-article-number-search"),(n=o_san.searchHandler.checkAndGetIfArticleNumber(s))&&(e=t+"?articlenumber="+n,o["wk.san_Fallback"]="ID",o["wk.san_CountHits"]=1,o["wk.san_SearchTerm"]=n,o["wk.san_SearchWordCount"]=1)),function(e){var t,n,s,a;if(n={"wk.san_SearchType":"search"},Object.keys(e).forEach(function(t){n[t]=e[t];}),r.classList.contains("san_track_modified")&&(n["wk.san_SearchType"]="modified"),r.classList.contains("san_track_suggest")&&(s=r.getAttribute("data-suggestWordList"),a=r.getAttribute("data-suggestWordListCount"),u=i.getAttribute("data-suggest-search-term"),n["wk.san_SearchType"]="suggest",n["wk.san_SuggestSearchTerm"]=u,n.san_SuggestSearchTermLength=u.length.toString(),n["wk.san_SuggestPos"]=r.getAttribute("data-suggestpos"),n.san_SuggestList=s,n.san_SuggestListWordCount=a),n["wk.san_ActiveSearch"]="true",n.san_InitialSearch="true",n.san_Interaction="initial_search",n.san_PageLoadComplete="true",o_san.tracking&&o_san.tracking.isInitialized)o_san.tracking.sendTrackingDataForNextPI(n);else if((t=new o_global.Storage(function(){return window.sessionStorage;})).isAvailable){n.san_PageLoadComplete="false";try{t.setItem("san_searchTracking",JSON.stringify(n));}catch(e){}}}(o),o_san.util.global.setLocation(e));},!!s.length>0&&(this.toggleDeleteButtonVisibility(),i.addEventListener("keyup",o_util.core.bind(n,this.toggleDeleteButtonVisibility)),r.addEventListener("reset",o_util.core.bind(n,this.resetHandler))),r.addEventListener("submit",function(e){e.preventDefault(),n.submitSearch();}),i.addEventListener("focus",function(){n.clearFormField(),i.classList.remove("hint"),i.parentNode.parentNode.classList.add("focus");}),i.addEventListener("blur",function(){n.fillDefaultText(),i.parentNode.parentNode.classList.remove("focus"),o_san.searchSuggest&&o_san.searchSuggest.notifyOfSearchFieldBlurEvent();}),document.activeElement&&document.activeElement===i&&(this.clearFormField(),i.classList.remove("hint")),"function"==typeof t&&t(),this.enableSearch();};return{init:function init(t,n){return new e(t,n);}};}(),(o_san=window.o_san||{}).templates=o_san.templates||function(e){"use strict";var t=function t(e){return 200===e.status?e.response||e.responseText||Promise.reject(new Error("No template found")):Promise.reject(new Error("received status code ",e.status));};return new e.Cache(function(e){return o_util.ajax.get("/san/resources/templates/"+e).then(t);});}(o_san.cache),(o_find=window.o_find||{}).header=o_find.header||function(){"use strict";var e,t=!1,n=function n(){e.classList.contains("find_header--activeSearch")||(document.body.scrollTop>50||document.documentElement.scrollTop>50?(e.classList.remove("find_header--visibleSearchbar"),e.classList.add("find_header--reduced"),e.classList.remove("find_header--hideSearchIcon")):e.classList.remove("find_header--reduced"));};return{init:function init(){if(!t){var r=document.getElementsByClassName("find_header");1===r.length&&(e=r[0],window.addEventListener("scroll",n,{passive:!0}),t=!0);}}};}(),o_global.eventLoader.onReady(1,function(){"use strict";o_find.header.init();}),(o_san=window.o_san||{}).searchHandler=o_san.searchHandler||function(){"use strict";var e;return{init:function init(t){var n,r=document.getElementById("searchAndIconBg");if(r&&(n=r.getElementsByClassName("js_searchForm")).length>0){var _t=(e=o_san.searchForm.init(n[0],function(){o_global.eventLoader.onReady(2,function(){var t=document.getElementById("san_searchResult"),n=document.getElementById("san_qr-query"),r="";t?r=t.getAttribute("data-userquery")||"":n&&(r=n.getAttribute("data-userquery")||""),""!==r&&e.isEmpty()&&(e.setValue(r),e.toggleDeleteButtonVisibility()),o_san.searchSuggest&&o_san.searchSuggest.init();});})).getSearchField();if(_t){var _e3=function _e3(e){document.querySelector('meta[name="viewport"]').setAttribute("content","width=device-width, initial-scale=1"+("blur"===e.type?"":",maximum-scale=1"));};_t.addEventListener("focus",_e3),_t.addEventListener("blur",_e3);}}o_global.eventLoader.onReady(2,function(){var e=document.getElementsByClassName("san_error__no-results");e.length>0&&o_san.searchForm.init(e[0].getElementsByClassName("js_searchForm")[0]);});},checkAndGetIfArticleNumber:function checkAndGetIfArticleNumber(e){var t;return e=e.replace(/\s+/g,""),(t=/^(\.?\d{6}\w{0,2})$/g.exec(e))?t[1]:!!(t=/^([1-9]\d{7}\w{2,3})$/g.exec(e))&&t[1];},focusHeaderSearchField:function focusHeaderSearchField(){e&&e.focusSearchField();}};}();var o_find,san=window.san||{};(o_san=window.o_san||{}).tracking=o_san.tracking||function(){"use strict";var e,t=function t(){return!!document.querySelector(".san-nonlive");},n=function n(e){var n,r,s,i;if(t()&&(n=new o_global.Storage(function(){return window.localStorage;})).isAvailable)if(r=n.getItem("san-tv")){for(i in s=JSON.parse(r),e){e.hasOwnProperty(i)&&(s[i]=e[i]);}n.setItem("san-tv",JSON.stringify(s));}else n.setItem("san-tv",JSON.stringify(e));},r=function r(e,_r,s){var i=o_global.debug.status().activated;try{_r(e),i&&t()&&console.log(s+" submitting "+JSON.stringify(e)),n(e);}catch(e){i&&console.log(e);}},s=function s(t){e&&"function"==typeof e.sendEventToTrackingServer&&r(t,e.sendEventToTrackingServer,"Track event");},i=function i(e){var t=e.detail&&e.detail.trackingKey&&JSON.parse(e.detail.trackingKey);t&&s(t);};return{init:function init(t){var n,r,a=document.querySelector(".js_tracking");e=t.bct,a&&window.addEventListener("san.event.tracking",i),(r=new o_global.Storage(function(){return window.sessionStorage;})).isAvailable&&(n=r.getItem("san_searchTracking"))&&(r.removeItem("san_searchTracking"),s(JSON.parse(n))),o_san.tracking.isInitialized=!0;},sendEventToTracking:s,sendTrackingDataForNextPI:function sendTrackingDataForNextPI(t){e&&"function"==typeof e.trackOnNextPageImpression&&r(t,e.trackOnNextPageImpression,"Track on next PI");},saveTrackingAction:n,getTrackingDataFromParent:function getTrackingDataFromParent(e,t){var n;return""!==t&&(n=o_san.util.dom.findMatch(e,function(e){return!!e.getAttribute(t);},document.querySelector(".gridAndInfoContainer"))),n?n.getAttribute(t):"";},mergeTrackingDataOnCurrentPI:function mergeTrackingDataOnCurrentPI(t){e&&"function"==typeof e.sendMergeToTrackingServer&&r(t,e.sendMergeToTrackingServer,"Track merge on current PI");},createTrackingContext:function createTrackingContext(t,n){e&&"function"==typeof e.createContext&&e.createContext(t,n);},closeTrackingContext:function closeTrackingContext(){e&&"function"==typeof e.closeContext&&e.closeContext();},createMergeContextAndSendTrackingEvent:function createMergeContextAndSendTrackingEvent(t){var n;return e&&"function"==typeof e.createEventMergeContext?((n=e.createEventMergeContext()).sendEventToTrackingServer(t),n):{eventMergeId:void 0};},submitTrackingMoveEvent:function submitTrackingMoveEvent(t){e&&"function"==typeof e.submitMove&&r(t,e.submitMove,"Track as move event");}};}(),san.tracking=o_san.tracking,o_global.eventLoader.onReady(1,function(){"use strict";window.sanSanTrackingInitialized||(window.sanSanTrackingInitialized=!0,window.o_tracking?o_san.tracking.init(window.o_tracking):o_global.eventLoader.onLoad(1,function(){o_san.tracking.init(window.o_tracking);}));}),(o_san=window.o_san||{}).searchSuggest=o_san.searchSuggest||function(){"use strict";var e,t,n,r,s,i,a="data-suggestpos",o={},c=function c(){clearTimeout(i);},u=function u(){document.body.removeEventListener("click",u),n.style.display="none",n.innerHTML="",o={},s.clear(),r=void 0;},l=function l(){document.body.addEventListener("click",u),n.style.display="block";},d=function d(){var t,n,r=[].slice.call(document.getElementsByClassName("js_suggest")).map(function(e){return e.innerText.trim();});t=r.join("|"),n=r.map(function(e){return e.split(" ").length;}).join("|"),e.setAttribute("data-suggestWordList",t),e.setAttribute("data-suggestWordListCount",n);},g=function g(e){return this.innerHTML=e,this;},h=function h(t){e.classList.add(t);},f=function f(t){e.classList.remove(t);},m=function m(t,n){e.setAttribute(a,t),n?e.setAttribute("data-target",n):e.removeAttribute("data-target");},_=function _(e){""!==e&&(t.value=e);},v=function v(n){var r,s,i,o,u,l,d=(this.querySelector?this:n.srcElement.offsetParent).querySelector(".js_searchTerm");c(),o_util.event.stop(n),m(d.getAttribute(a)),r=t.getAttribute("data-suggest-search-term"),_(d.getAttribute("data-term")),s=e.getAttribute("data-suggestWordList"),i=e.getAttribute("data-suggestWordListCount"),o={"wk.san_SearchType":"suggest","wk.san_ActiveSearch":"true","wk.san_SuggestPos":d.getAttribute(a),"wk.san_SuggestSearchTerm":r,san_InitialSearch:"true",san_Interaction:"initial_search",san_SuggestSearchTermLength:r.length.toString(),san_SuggestListWordCount:i,san_SuggestList:s},o_san.tracking&&o_san.tracking.sendTrackingDataForNextPI(o),f("san_track_modified"),u=o_san.util.string.escapeSpecials(t.value),l=e.getAttribute("action")+"/"+encodeURIComponent(u)+"/",o_san.util.global.setLocation(l);},p=function p(e){var n=(this.parentNode?this.parentNode:e.srcElement.offsetParent).querySelector(".js_searchTerm"),r=n.getAttribute("data-term"),s=n.getAttribute(a);c(),o_util.event.stop(e),m(s),_(n.getAttribute("data-term")+" "),o_san.tracking.sendEventToTracking({san_SuggestAdoptTerm:r,san_SuggestAdoptPosition:s}),f("san_track_suggest"),h("san_track_modified"),t.focus();},b=function b(e){var t=e.suggestions||[],n=e.contentSuggestions||[],s=e.searchTerm,i=Math.min(2,n.length);return{template:e.template,suggestions:function(e,t,n,r){var s,i,a,o=new RegExp(t,"i"),c=0,u=[];for(s=0,i=e.length-r;s<i;s++){(a=e[s]).searchterm!==n&&(a.formattedSearchTerm=a.searchterm.replace(o,'<span class="match">$&</span>'),a.suggestPos=++c,u.push(a));}return u;}(t,s,r,i),contentSuggestions:function(e,t,n){var r,s,i,a=new RegExp(t,"i"),o=[];for(r=0,s=n;r<s;r++){(i=e[r]).searchterm=t,i.formattedDisplay=i.redirectTerm.replace(a,'<span class="match">$&</span>'),i.suggestPos=r+1,o.push(i);}return o;}(n,s,i)};},w=function w(e){if(!e.suggestions.length&&!e.contentSuggestions.length)return Promise.reject(new Error("No suggestions to show"));n.innerHTML=Mustache.render(e.template,e);},y=function y(e,t){var n,r;for(n=0,r=e.length;n<r;++n){if(e[n].indexName===t)return e[n].suggestions;}return[];},S=function S(e){return encodeURIComponent(e)+"="+encodeURIComponent(this[e]);},k=function k(e,t){return e+"?"+Object.keys(t).map(o_util.core.bind(t,S)).join("&");},L=function L(e){var t=o[e]?Promise.resolve(o[e]):function(e){return o_util.ajax.getJSON(k(n.getAttribute("data-suggestserveruri"),{scope:n.getAttribute("data-suggestscope"),search:e})).then(function(e){return 200===e.status?e.responseJSON:Promise.reject(new Error("received status code ",e.status));});}(e).then(function(t){return o[e]=t,t;}),r=o_san.templates.get("suggestLayer");return Promise.all([t,r]).then(function(t){var n=t[0].suggestionGroups;return{suggestions:y(n,"1keywords"),contentSuggestions:y(n,"2redirects"),template:t[1],searchTerm:e};});},E=function E(e){return 200===e.status?(t=e.responseJSON,(n=t.keywords).length&&{keywords:n,suggestPos:o_san.util.core.counter()}||Promise.reject(new Error("No suggestions to show"))):Promise.reject(new Error("received status code ",e.status));var t,n;},T=function T(e){return Mustache.render(e[1],e[0]);},A=function A(e){return Promise.all([function(e){return o_util.ajax.getJSON(k(n.getAttribute("data-suggestserveruri"),{q:e}));}(e).then(E),o_san.templates.get("suggestionLayer")]).then(T);},I=function I(e){var t=o_san.toggles.isNewSuggest()?s.get(e).then(o_util.core.bind(n,g)):L(e).then(b).then(w);m(-1),t.then(l).then(d).then(void 0,u);},F=function F(e,t){var n,r,s,i,o;e&&e.classList.remove("san_suggestLayer__entry--selected"),t&&(t.classList.add("san_suggestLayer__entry--selected"),r=(n=t).querySelector(".js_searchTerm"),s=r.getAttribute("data-target"),i=r?r.getAttribute("data-term"):n.getAttribute("data-term"),o=!!s,r&&m(r.getAttribute(a),o?s:null),_(i),h("san_track_suggest"));},N=function N(e){var s,i,a=e.which?e.which:e.keyCode;38===a||40===a?(e.preventDefault(),i=n.querySelector(".san_suggestLayer__entry--selected"),F(i,i?function(e,t){switch(e){case 40:return t.nextElementSibling;case 38:return t.previousElementSibling;default:return null;}}(a,i):function(e){var t=n.querySelectorAll("li.san_suggestLayer__entry");switch(e){case 40:return t[0];case 38:return t[t.length-1];default:return null;}}(a))):(s=o_san.util.string.trimLeft(t.value),t.setAttribute("data-suggest-search-term",s),""!==s&&13!==a?(r!==s&&I(s),r=s,f("san_track_suggest")):u());},C=function C(e){var t=o_san.util.string.trimLeft(o_util.event.getTarget(e).value);""!==t&&""!==n.innerHTML&&I(t),c();};return{init:function init(){var r=document.querySelector("#searchAndIconWrp");s=new o_san.cache.Cache(A),e||(e=r.querySelector(".js_searchForm"),t=r.querySelector(".js_searchField"),n=r.querySelector(".san_suggestLayer"),o_util.event.delegate(".san_suggestLayer","click",".js_suggest",v),o_util.event.delegate(".san_suggestLayer","click",".san_suggestLayer__arrow",p),t.addEventListener("keyup",N),t.addEventListener("focus",C));},reset:function reset(){t.value="",u(),e=null,t=null,n=null,r="",o={},s.clear(),c(),i=null;},notifyOfSearchFieldBlurEvent:function notifyOfSearchFieldBlurEvent(){i=setTimeout(u,500);},setOldSearchTerm:function setOldSearchTerm(e){r=e;}};}(),(o_find=window.o_find||{}).searchbar=o_find.searchbar||function(){"use strict";var e,t,n,r,s,i,a=!1,o=function o(){e.classList.remove("find_header--visibleSearchbar");},c=function c(){e.classList.contains("find_header--visibleSearchbar")?o():(e.classList.add("find_header--visibleSearchbar"),o_global.eventQBus.emit("tracking.bct.submitEvent",{san_Header:"search"}),s.focus());},u=function u(){t&&e&&e.classList.add("find_header--activeSearch");},l=function l(){e&&e.classList.remove("find_header--activeSearch");};return{init:function init(){a||(t=document.getElementsByClassName("find_searchbar__input")[0],r=document.getElementsByClassName("js_find_searchIcon")[0],e=document.getElementsByClassName("js_find_header")[0],s=document.getElementsByClassName("js_find_searchbar__input")[0],n=document.getElementsByClassName("js_find_searchbar__abort")[0],i=document.getElementsByClassName("js_find_searchCurtain")[0],r&&e&&r.addEventListener("click",c),s&&s.removeAttribute("disabled"),t&&t.addEventListener("focus",u),n&&n.addEventListener("click",l),i&&i.addEventListener("click",l),a=!0);},hideSearchField:o};}(),o_global.eventLoader.onReady(1,function(){"use strict";o_find.searchbarInitialized||(o_find.searchbarInitialized=!0,o_find.searchbar.init());}),o_global.eventQBus.on("ftfind.search.hide",function(){o_san.searchbar.hideSearchField();}),(o_san=window.o_san||{}).searchFieldToggleButton=o_san.searchFieldToggleButton||function(){"use strict";var e,t,n=!1,r=!1,s=function s(){t.classList.remove("searchVisible");},i=function i(){t.classList.contains("searchVisible")?s():(t.classList.add("searchVisible"),o_san.tracking.sendEventToTracking({san_Header:"search"}),o_san.searchHandler.focusHeaderSearchField());},a=function a(t){"s"===t||"m"===t?r||(e.addEventListener("click",i),r=!0):(e.removeEventListener("click",i),r=!1);};return{init:function init(){e=document.getElementById("searchGlassWrp"),!n&&e&&(t=document.getElementById("sanHeadWrp"),a(o_global.breakpoint.getCurrentBreakpoint()),o_global.breakpoint.registerChangeListener(a)),n=!0;},hideSearchField:s};}(),o_global.eventLoader.onReady(1,function(){"use strict";window.sanSearchFieldToggleButtonInitialized||(window.sanSearchFieldToggleButtonInitialized=!0,o_san.searchFieldToggleButton.init());}),o_global.eventQBus.on("ftfind.search.hide",function(){o_san.searchFieldToggleButton.hideSearchField();});var o_san;san=window.san||{};(o_san=window.o_san||{}).trackingLink=o_san.trackingLink||function(){"use strict";var e=function e(_e4){var t=window.location.pathname+window.location.search,n=this.getAttribute("href");if(n.slice(0,n.indexOf("#"))===t)return window.location.hash="",_e4.preventDefault(),!1;},t=function t(){o_util.event.delegate(document,"mousedown","a",function(){var t=this.getAttribute("href"),n=this.getAttribute("data-tracking");var r;n&&((r=this).removeEventListener("click",e),r.addEventListener("click",e),this.setAttribute("href",o_util.fragment.push({t:n},t)),this.removeAttribute("data-tracking"));});};o_global.eventLoader.onReady(10,function(){window.sanTrackingLinkInitialized||(window.sanTrackingLinkInitialized=!0,t());});}();//# sourceMappingURL=/walkingstick/grasshopper/ftfind.grasshopper.head.50ebacbd.js.map