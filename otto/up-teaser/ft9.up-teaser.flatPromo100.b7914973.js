!function(){"use strict";var t=function(){function t(){}var e;return t.error=function(e){for(var n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];(null===(n=t.debug)||void 0===n?void 0:n.status().activated)&&console.error(e,i)},t.info=function(e){for(var n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];(null===(n=t.debug)||void 0===n?void 0:n.status().activated)&&console.info(e,i)},t.warn=function(e){for(var n,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];(null===(n=t.debug)||void 0===n?void 0:n.status().activated)&&console.warn(e,i)},t.debug=null===(e=window.o_global)||void 0===e?void 0:e.debug,t}(),e=function(){function e(e){this.debugEventBus={emit:function(e,n,i){t.warn("Sending to "+e+" via debug eventBus",n)}},this.eventBus=null!=e&&null!==e.eventQBus&&void 0!==e.eventQBus?e.eventQBus:this.debugEventBus}return e.prototype.sendMerge=function(t){null!=t&&this.eventBus.emit("tracking.bct.addToPageImpression",t)},e.prototype.sendEventMerge=function(t,e){this.eventBus.emit("tracking.bct.addToEvent",t,e)},e.prototype.sendEvent=function(t){null!=t&&this.eventBus.emit("tracking.bct.submitEvent",t)},e}(),n=function(){return(n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},i=function(){function t(t){null!=t&&null!=t.attributes&&(this.trackingData={up_FlatType:t.getAttribute("data-flattype"),up_NotValidAfter:t.getAttribute("data-notvalidafter"),up_Scarcity:t.getAttribute("data-scarcity")},null!=this.trackingData.up_Scarcity&&null!=this.trackingData.up_FlatType&&null!=this.trackingData.up_NotValidAfter||(this.trackingData=null))}return t.prototype.viewTracking=function(){return null==this.trackingData||"0"==this.trackingData.up_Scarcity?n(n({},this.trackingData),{up_DeliveryFlatPromotion:"view"}):n(n({},this.trackingData),{up_DeliveryFlatRenewal:"view"})},t.prototype.availableTracking=function(){return{up_DeliveryFlatUserStatus:"available"}},t.prototype.seenTracking=function(){return null==this.trackingData||"0"==this.trackingData.up_Scarcity?n(n({},this.trackingData),{up_DeliveryFlatPromotion:"seen"}):n(n({},this.trackingData),{up_DeliveryFlatRenewal:"seen"})},t.prototype.continueShopping=function(){return null==this.trackingData||"0"==this.trackingData.up_Scarcity?{up_DeliveryFlatPromotion:"continueShopping"}:{up_DeliveryFlatRenewal:"continueShopping"}},t.prototype.toBasket=function(){return null==this.trackingData||"0"==this.trackingData.up_Scarcity?n(n({},this.trackingData),{up_DeliveryFlatPromotion:"toBasket"}):n(n({},this.trackingData),{up_DeliveryFlatRenewal:"toBasket"})},t.prototype.openLayer=function(){return null==this.trackingData||"0"==this.trackingData.up_Scarcity?n(n({},this.trackingData),{up_DeliveryFlatPromotion:"open"}):n(n({},this.trackingData),{up_DeliveryFlatRenewal:"open"})},t.prototype.closeLayer=function(){return null==this.trackingData||"0"==this.trackingData.up_Scarcity?n(n({},this.trackingData),{up_DeliveryFlatPromotion:"close"}):n(n({},this.trackingData),{up_DeliveryFlatRenewal:"close"})},t.prototype.viewSubscriptionInfoTracking=function(){return null==this.trackingData||"0"==this.trackingData.up_Scarcity?n(n({},this.trackingData),{up_DeliveryFlatInformation:"view"}):n(n({},this.trackingData),{up_DeliveryFlatRenewal:"view"})},t.prototype.closeSubscriptionInfoLayer=function(){return null==this.trackingData||"0"==this.trackingData.up_Scarcity?n(n({},this.trackingData),{up_DeliveryFlatInformation:"close"}):n(n({},this.trackingData),{up_DeliveryFlatRenewal:"close"})},t.prototype.openSubscriptionInfoLayer=function(){return null==this.trackingData||"0"==this.trackingData.up_Scarcity?n(n({},this.trackingData),{up_DeliveryFlatInformation:"open"}):n(n({},this.trackingData),{up_DeliveryFlatRenewal:"open"})},t.prototype.renewSubscriptionInfoLayer=function(){return{up_DeliveryFlatInformation:"renew",up_DeliveryFlatPromotion:"open"}},t}();var a=function(){function t(t,e,n){this.trackingService=t,this.trackingPayload=e,this._element=n;var i=this._element.getAttribute("data-onexStatus");this.isOnexStatusAvailable=i&&"available"===i;var a=this._element.getAttribute("data-subscriptioninfo");this.isSubscriptionInfoTeaser=!(!a||"true"!==a)}return t.prototype.init=function(){if(this.isSubscriptionInfoTeaser?this.trackingService.sendMerge(this.trackingPayload.viewSubscriptionInfoTracking()):this.trackingService.sendMerge(this.trackingPayload.viewTracking()),this.isOnexStatusAvailable&&this.trackingService.sendMerge(this.trackingPayload.availableTracking()),this.registerSeenHandler(),null!==this._element.getAttribute("data-countdown")&&"0"!==this._element.getAttribute("data-countdown")){var t=parseInt(this._element.getAttribute("data-countdown"));if(!isNaN(t)){var e=this._element.querySelector(".up_teaser_headline"),n=e.textContent,i=function(){return function(t,e,n,i){var a=new Date,r=new Date(1e3*t).getTime()-a.getTime();if(r<864e5&&r>1e3){var o=Math.floor(r%864e5/36e5),c=Math.floor(r%36e5/6e4),s=Math.floor(r%6e4/1e3),l=o>0?o+"h ":"",u=c>0?c+"m ":"",p=s>0?s+"s ":"";n.innerHTML=""+e+l+u+p}else r<=1e3&&(window.clearInterval(n.interval),window.setTimeout((function(){n.innerHTML=i}),1e3))}(t,n+" in ",e,"Deine Liefer-Flat ist abgelaufen")};i(),e.interval=window.setInterval((function(){i()}),1e3)}}},t.prototype.seenHandler=function(){this.trackingService.sendMerge(this.trackingPayload.seenTracking())},t.prototype.registerSeenHandler=function(){var t=this;window.IntersectionObserver&&new IntersectionObserver((function(e,n){e[0].isIntersecting&&(n.unobserve(t._element),t.isSubscriptionInfoTeaser||t.trackingService.sendEvent(t.trackingPayload.seenTracking()))}),{threshold:.75}).observe(this._element)},t.prototype.sendOpenLayerTracking=function(){this.isSubscriptionInfoTeaser?this.trackingService.sendEvent(this.trackingPayload.openSubscriptionInfoLayer()):this.trackingService.sendEvent(this.trackingPayload.openLayer())},t.prototype.sendCloseLayerTracking=function(){this.isSubscriptionInfoTeaser?this.trackingService.sendEvent(this.trackingPayload.closeSubscriptionInfoLayer()):this.trackingService.sendEvent(this.trackingPayload.closeLayer())},t}();window.o_global=window.o_global||{},window.o_up=window.o_up||{};var r=new e(window.o_global);[].forEach.call(document.querySelectorAll(".up-teaser-init"),(function(t,e){var n=new i(t),o=new a(r,n,t);o.init();window.o_up.openLayerHandler=function(){o.sendOpenLayerTracking()},window.o_up.closeLayerHandler=function(){o.sendCloseLayerTracking()}}))}();
//# sourceMappingURL=/up-teaser/ft9.up-teaser.flatPromo100.b7914973.js.map
