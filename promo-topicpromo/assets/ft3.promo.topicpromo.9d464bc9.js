!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}var o=function(){function e(){t(this,e)}return n(e,null,[{key:"group",value:function(t){window.o_global.debug.status().activated&&console.group&&console.group(t)}},{key:"groupEnd",value:function(){window.o_global.debug.status().activated&&console.groupEnd&&console.groupEnd()}},{key:"log",value:function(t){window.o_global.debug.status().activated&&console.log(t)}},{key:"warn",value:function(t){console.warn&&window.o_global.debug.status().activated&&console.warn(t)}},{key:"table",value:function(t){window.o_global.debug.status().activated&&console.table&&console.table(t)}},{key:"count",value:function(t){window.o_global.debug.status().activated&&console.count&&console.count(t)}}]),e}(),r=function(){function e(){t(this,e),this.tracker=window.o_tracking||{},this.tracker.bct||(this.tracker.bct={sendMergeToTrackingServer:function(){},sendEventToTrackingServer:function(){},submitMove:function(){},trackOnNextPageImpression:function(){}})}return n(e,[{key:"sendClickTrackingEvent",value:function(t,e,n,o,r){var i=this._buildClickTrackingPayload(t,e,n,o,r);this.tracker.bct.submitMove(i),this.tracker.bct.trackOnNextPageImpression({promo_Click:"topicPromotionLarge"})}},{key:"sendViewTrackingEvent",value:function(t,e,n,o,r){var i=this._getViewTrackingInfo(t,e,n,o,r);this.tracker.bct.sendMergeToTrackingServer(i)}},{key:"_getViewTrackingInfo",value:function(t,e,n,o,r){return{promo_TopicPromotionLarge:this._getEventAsString(t,e,n,1,1,o,"view"),promo_TopicPromoScore:r}}},{key:"_buildClickTrackingPayload",value:function(t,e,n,o,r){var i={},a=this._getEventAsString(t,e,n,1,1,o,"click");return i.promo_TopicPromotionLarge=a,i.promo_TopicPromoScore=r,i["wk.promo_Attribution"]="promo_TopicPromotionLarge∞"+a,i}},{key:"_getEventAsString",value:function(t,e,n,o,r,i,a){return t+"∞"+e+"$"+(n+1)+"∞"+o+"∞"+r+"∞"+i+"∞"+a}}]),e}(),i=function(){function e(n){t(this,e),this.container=n,this.featureOrder=this._getFeatureOrder(n),this.item=n.querySelector(".promo_topicpromo--container a"),this.trackingService=new r,this.trackView(),this.item.addEventListener("click",this.trackClick(),!1)}return n(e,[{key:"trackClick",value:function(){var t=this;return function(){t.trackingService.sendClickTrackingEvent(this.getAttribute("data-topic-id"),t.featureOrder,parseInt(this.getAttribute("data-feature-index")),this.getAttribute("data-source"),this.getAttribute("data-affinity"))}}},{key:"trackView",value:function(){var t=this.item.getAttribute("data-source"),e=this.item.getAttribute("data-affinity"),n=this.item.getAttribute("data-topic-id"),o=parseInt(this.item.getAttribute("data-feature-index"));this.trackingService.sendViewTrackingEvent(n,this.featureOrder,o,t,e)}},{key:"_getFeatureOrder",value:function(){return parseInt(this.container.parentElement.getAttribute("data-feature-order"),0)}}]),e}();window.o_global.eventLoader.onAllScriptsExecuted(96,(function(){o.group("[FT3 promo topicpromo]"),o.count("Topicpromo Invocation");var t=document.querySelectorAll(".promo_topicpromo--container");[].forEach.call(t,(function(t){"true"!==t.getAttribute("data-tracked")&&(t.setAttribute("data-tracked","true"),new i(t))})),o.groupEnd()}))}();
//# sourceMappingURL=/promo-topicpromo/assets/ft3.promo.topicpromo.9d464bc9.js.map
