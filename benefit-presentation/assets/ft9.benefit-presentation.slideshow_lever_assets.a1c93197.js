window.o_benefit=window.o_benefit||{},o_benefit.trackingApi=function(){var e={},t=function t(){return!!(window.o_tracking&&window.o_tracking.bct&&window.o_tracking.bct.sendMergeToTrackingServer&&window.o_tracking.bct.sendEventMergeToTrackingServer&&window.o_tracking.bct.submitMove);};return e.sendEventRequest=function(e){t()&&(o_tracking.bct.trackOnNextPageImpression(e),!0===o_global.debug.status().activated&&console.log("lever event tracking",e));},e.sendRealEventRequest=function(e){!0===o_global.debug.status().activated&&console.log("[benefit-presentation] Send 'event' to tracking server: ",e),o_tracking.bct.sendEventToTrackingServer(e).then(function(){!0===o_global.debug.status().activated&&console.log("[benefit-presentation] ".concat(e," succesfully sent to tracking server"));}).catch(function(t){!0===o_global.debug.status().activated&&console.warn("[benefit-presentation] Error while sending ".concat(e," to tracking server"),t);});},e.sendEventMergeRequest=function(e,n){t()&&(o_tracking.bct.sendEventMergeToTrackingServer(e,n),!0===o_global.debug.status().activated&&console.log("lever event merge tracking",e));},e.sendMergeRequest=function(e){t()&&(o_tracking.bct.sendMergeToTrackingServer(e),!0===o_global.debug.status().activated&&console.log("lever merge tracking",e));},e;}(),window.o_benefit=window.o_benefit||{},o_benefit.trackingQueueEventEmitter=function(){var e={trackOnNextPageImpression:function trackOnNextPageImpression(e){return t("[benefit-presentation] Track on next PI",e),window.o_global.eventQBus.emit("tracking.bct.addFeaturesToPageImpression",e).catch(function(e){n("[benefit-presentation] Could not emit event 'addFeaturesToPageImpression'",e);});},sendEvent:function sendEvent(e){return t("[benefit-presentation] Send 'event'",e),window.o_global.eventQBus.emit("tracking.bct.submitAction",{},e).catch(function(e){n("[benefit-presentation] Could not emit event 'submitAction'",e);});},sendEventMerge:function sendEventMerge(e,o){return t("[benefit-presentation] Send 'event merge' with eventMergeId: ".concat(o),e),window.o_global.eventQBus.emit("tracking.bct.addActionToEvent",e).catch(function(e){n("[benefit-presentation] Could not emit event 'addActionToEvent'",e);});},sendMerge:function sendMerge(e){return t("[benefit-presentation] Send 'merge'",e),window.o_global.eventQBus.emit("tracking.bct.addFeaturesToPageImpression",e).catch(function(e){n("[benefit-presentation] Could not emit event 'addFeaturesToPageImpression'",e);});},submitMove:function submitMove(e){return t("[benefit-presentation] Submit 'move'",e),window.o_global.eventQBus.emit("tracking.bct.submitMoveAction",{},e).catch(function(e){n("[benefit-presentation] Could not emit event 'submitMoveAction'",e);});}},t=function t(e,_t){!0===o_global.debug.status().activated&&console.log(e,_t);},n=function n(e,t){!0===o_global.debug.status().activated&&console.error(e,t);};return e;}(),window.o_benefit=window.o_benefit||{},window.o_tracking=window.o_tracking||{},o_benefit.trackingHandler=function(){var e={initLeversGeneric:function initLeversGeneric(o){var i=[];for(var _t2=0;o&&o.levers&&_t2<o.levers.length;_t2++){var _n=o.levers[_t2].leverElement.getAttribute("data-lever-id"),_r=o.levers[_t2].leverElement.getAttribute("data-tracking");var a=_n+JSON.parse(_r).position;var l=!0;for(var _e=0;_e<i.length;_e++){i[_e]===a&&(l=!1);}var c={};c.leverElement=o.levers[_t2].leverElement,c.featurePosition=o.levers[_t2].featurePosition,c.eventMergeId=o.eventMergeId,c.promoPosition=o.levers[_t2].position,c.trackView=l,e.initLeverGeneric(c),i.push(a);}if(o_util.toggle.get("FT9_MAIN_LEVERS_FEATURE_TRACKING",!1)&&o&&o.levers){(function(){var e=t(o),i=[],r=[];var _loop=function _loop(_t3){var a=o.levers[_t3].leverElement.getAttribute("data-lever-id"),l=JSON.parse(o.levers[_t3].leverElement.getAttribute("data-tracking")),c=a+l.position,s=o.levers[_t3].leverElement.getElementsByClassName("benefit-main__lever__code-box--app"),d=1===s.length,b=/[a-zA-Z]*/.exec(l.position)[0];if(!i.includes(c)){var _e2=n(a,_t3+1,"visible",l.content,l.scarcity,b);d&&(_e2.labels.benefit_AppOnlyButton=["view"]),r.push(_e2);}o.levers[_t3].leverElement.onclick=function(){var o=n(a,_t3+1,"clicked",l.content,l.scarcity,b),i={name:"open",features:[e,o]};o_benefit.trackingQueueEventEmitter.sendEvent(i);};var u=o.levers[_t3].leverElement.querySelectorAll(".benefit-main__lever__code-box--code");0!==u.length&&(u[0].onclick=function(o){o.stopPropagation();var i=n(a,_t3+1,"clicked",l.content,l.scarcity,b);i.labels.benefit_Copy=["true"];var r={name:"click",features:[e,i]};o_benefit.trackingQueueEventEmitter.sendEvent(r);}),!0===d&&(s[0].onclick=function(){var o=n(a,_t3+1,"clicked",l.content,l.scarcity,b);o.labels.benefit_AppOnlyButton=["clicked"];var i={name:"open",features:[e,o]};o_benefit.trackingQueueEventEmitter.submitMove(i);}),i.push(c);};for(var _t3=0;_t3<o.levers.length;_t3++){_loop(_t3);}o.eventMergeId&&void 0!==o.eventMergeId?o_benefit.trackingQueueEventEmitter.sendEventMerge([e].concat(r),o.eventMergeId):o_benefit.trackingQueueEventEmitter.sendMerge([e].concat(r));})();}}},t=function t(e){var t=parseInt(e.featurePosition);return{id:"FT9-benefit-main",name:"KundenvorteilsContainer",status:"loaded",position:isNaN(t)?99:t,labels:{benefit_FilledSlots:["".concat(e.levers.length)]}};},n=function n(e,t,_n2,o,i,r){return{id:"FT9-benefit-main-".concat(t),name:"Kundenvorteil",status:_n2,parentId:"FT9-benefit-main",position:t,labels:{benefit_Content:[o],benefit_Code:["".concat(e)],benefit_Scarcity:[i],benefit_Slot:[r]}};};e.initLeverGeneric=function(e){var t=JSON.parse(e.leverElement.getAttribute("data-tracking")),n=e.leverElement.getElementsByClassName("benefit-main__lever__code-box--app"),o=1===n.length;e.featurePosition&&(t.featurePosition=e.featurePosition),!0===e.trackView&&i(t,o,e.promoPosition,e.eventMergeId),e.leverElement.onclick=function(){r(t,!1,e.promoPosition,e.eventMergeId);},!0===o&&(n[0].onclick=function(){r(t,!0,e.promoPosition,e.eventMergeId);});};var o=function o(e,t,n){return{benefit_Lever:function(e,t){var n=t||e.position;return"".concat(e.content,"\u221E").concat(e.featurePosition,"\u221E").concat(e.filledSlots,"\u221E").concat(n,"\u221E").concat(e.source,"\u221E");}(e,t)+n+"\u221E".concat(e.scarcity)};},i=function i(e,t,n,_i){if(e){var _r2=o(e,n,"view");t&&(_r2.benefit_AppOnlyButton="view"),_i&&void 0!==_i?o_benefit.trackingApi.sendEventMergeRequest(_r2,_i):o_benefit.trackingApi.sendMergeRequest(_r2);}},r=function r(e,t,n){if(e){var _i2=o(e,n,"click");if(t)return void o_tracking.bct.submitMove({benefit_AppOnlyButton:"click"});o_benefit.trackingApi.sendEventRequest(_i2);}};return e;}(),window.o_benefit=window.o_benefit||{},o_benefit.codebox=function(){var e={};var t=function t(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);};return e.init=function(e){[].forEach.call(e.querySelectorAll(".benefit-main__lever__code-box--code"),function(e){var n=e.querySelector(".benefit-main__lever__code-box__value--code").textContent.replace("Code ","");e.addEventListener("click",function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return function(o){o_global.debug.status().activated&&(console.log("Copy and track ".concat(e)),console.log(o)),n&&(o.preventDefault(),o.stopPropagation()),t(e),o_benefit.trackingApi.sendRealEventRequest({benefit_Copy:!0});};}(n));});},e;}(),window.o_benefit=window.o_benefit||{},o_benefit.codeboxLegacy=function(){var e={};var t=function t(e){var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);};return e.init=function(e){[].forEach.call(e.querySelectorAll(".onex-benefit-main__lever__code-box"),function(e){var n=e.querySelector(".onex-benefit-main__lever__code-box__value").textContent;e.addEventListener("click",function(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:!0;return function(o){o_global.debug.status().activated&&(console.log("Copy and track ".concat(e)),console.log(o)),n&&(o.preventDefault(),o.stopPropagation()),t(e),o_benefit.trackingApi.sendRealEventRequest({benefit_Copy:!0});};}(n));});},e;}(),window.o_benefit=window.o_benefit||{},o_benefit.linkLayer=function(){var e={init:function init(e){[].forEach.call(e.querySelectorAll(".benefit-main__linkLayer"),function(e){o_global.debug.status().activated&&console.log("Initialize layer for ".concat(e)),e.addEventListener("click",function(t){return new o_global.pali.layerBuilder({modal:!0,url:window.atob(e.getAttribute("data-target-link"))}).open(t);});});}};return e;}(),window.o_benefit=window.o_benefit||{},o_benefit.initialisation=function(){var e={init:function init(e){if(e.length>0){var n=[];for(var _t4=0;_t4<e.length;_t4++){var r=e[_t4].getAttribute("data-initialized");if(r&&null!==r&&"true"===r)continue;var a=".benefit-main__lever",l=".onex-benefit-main__lever";o_global.debug.status().activated&&(console.log("[benefit-presentation] Initialization of ".concat(e[_t4])),console.log(o_benefit.linkLayer)),o_benefit.linkLayer.init(e[_t4]),o_benefit.codebox.init(e[_t4]),o_benefit.appOnlyBox.init(e[_t4]),o_benefit.codeboxLegacy.init(e[_t4]),o_benefit.countdown.init(e[_t4]);var o=e[_t4].parentElement.getAttribute("data-feature-order"),i=o||"99";[].forEach.call(e[_t4].querySelectorAll(a),function(e){n.push({leverElement:e,featurePosition:i});}),[].forEach.call(e[_t4].querySelectorAll(l),function(e){n.push({leverElement:e,featurePosition:i});}),e[_t4].setAttribute("data-initialized","true");}if(n.length>0){var _e3={};_e3.levers=n,_e3.featurePosition=i,o_benefit.trackingHandler.initLeversGeneric(_e3);}t(e);}},initSlideshow:function initSlideshow(e){Array.prototype.slice.call(e).filter(function(e){return!e.getAttribute("data-tracked")||"false"===e.getAttribute("data-tracked");}).forEach(function(e){o_benefit.trackingHandler.initLeverGeneric({leverElement:e,trackView:!0}),e.setAttribute("data-tracked",!0);});}},t=function t(e){var t=[];for(var o=0;o<e.length;++o){var i=e[o].getAttribute("data-generic-tracking");if("{}"===i)continue;var r=!1;for(var _e4=0;_e4<t.length;++_e4){t[_e4]===i&&(r=!0);}!r&&i&&(t.push(i),n(i));}},n=function n(e){var t;try{t=JSON.parse(e),o_benefit.trackingApi.sendMergeRequest(t);}catch(e){}};return e;}(),window.o_benefit=window.o_benefit||{},o_benefit.bootstrapSlideshow=function(){o_global.eventLoader.onLoad(121,function(){var e=document.querySelectorAll(".benefit_lever_slideshow");e.length>0&&o_benefit.initialisation.initSlideshow(e);});},o_benefit.bootstrapSlideshow();//# sourceMappingURL=/benefit-presentation/assets/ft9.benefit-presentation.slideshow_lever_assets.a1c93197.js.map