var o_wishlist;(o_wishlist=window.o_wishlist||{}).serverHandler=o_wishlist.serverHandler||{},o_wishlist.serverHandler.ServerHandler=function(){},o_wishlist.serverHandler.ServerHandler.prototype.handleForbidden=function(s){try{var e=JSON.parse(s);o_wishlist.server.wishlist.redirectTo(e.redirect);}catch(s){o_global.debug.status().activated&&console.error(s);}},o_wishlist.serverHandler.ServerHandler.prototype.handleStatus=function(s,e){},o_wishlist.serverHandler.ServerHandler.prototype.getErrorMsgFromResponseText=function(s){var e;try{e=JSON.parse(s).errorMsg;}catch(s){}return e||"Es ist ein Fehler aufgetreten. Bitte versuche es erneut.";},o_wishlist.serverHandler.ServerHandler.prototype.handleResponse=function(s){var e=this;s.then(function(s){e.handleStatus(1223===s.status?204:s.status,s.responseText);});},o_wishlist.requestHandler=new o_wishlist.serverHandler.ServerHandler(),(o_wishlist=window.o_wishlist||{}).messages=o_wishlist.messages||{},o_wishlist.messages.status=o_wishlist.messages.status||{},o_wishlist.messages.status.SUCCESS="success",o_wishlist.messages.status.ERROR="error",o_wishlist.messages.status.INFO="info",o_wishlist.messages.Message=function(s,e,t,i,r){this.status=s,this.content=e,this.contentContainerSelector=t,this.containerClasses=i,this.displayCallback=r;},o_wishlist.messages.Message.fromJSON=function(s){return new o_wishlist.messages.Message(s.status,s.content,s.contentContainerSelector,s.containerClasses,s.displayCallback);},o_wishlist.messages.Message.createWishlistCreatedMessage=function(s,e){return new o_wishlist.messages.Message(e,s,e===o_wishlist.messages.status.SUCCESS?".wl_js_wishlistCreatedMessage":".wl_js_addWishlistForm__errorMessage",e===o_wishlist.messages.status.SUCCESS?"p_message p_message--success wl_wishlistCreatedMessage":"p_font100 wl_addWishlistForm__errorMessage");},o_wishlist.messages.Message.createWishlistDeletedMessage=function(s,e){return new o_wishlist.messages.Message(e,s,".wl_js_wishlistDeletedMessage",e===o_wishlist.messages.status.SUCCESS?"p_message p_message--success wl_wishlistDeletedMessage":"p_message p_message--error wl_wishlistDeletedMessage");},o_wishlist.messages.Message.createWishlistRenamedMessage=function(s,e){return new o_wishlist.messages.Message(e,s,e===o_wishlist.messages.status.SUCCESS?".wl_js_wishlistRenamedMessage":".wl_js_renameWishlistForm__errorMessage",e===o_wishlist.messages.status.SUCCESS?"p_message p_message--success wl_wishlistRenamedMessage":"p_font100 wl_renameWishlistForm__errorMessage");},o_wishlist.messages.Message.createWishlistMovedMessage=function(s,e,t,i){return new o_wishlist.messages.Message(e,s,e===o_wishlist.messages.status.SUCCESS?'.wl_js_item[data-variationid="'+t+'"] .wl_item__contentContainer':'.wl_js_item[data-variationid="'+t+'"] .wl_ItemMovedErrorMessage',e===o_wishlist.messages.status.SUCCESS?"p_message p_message--success wl_itemMovedSuccessMessage":"",void 0!==i?i:function(){});},o_wishlist.messages.Message.createWishlistItemDeletedMessage=function(s,e,t){return new o_wishlist.messages.Message(e,s,'.wl_js_item[data-variationid="'+t+'"] .wl_ItemMovedErrorMessage',"p_message p_message--error");},o_wishlist.messages.Message.createItemNoteMessage=function(s,e){return new o_wishlist.messages.Message(o_wishlist.messages.status.ERROR,s,'.wl_js_item[data-variationid="'+e+'"] .wl_js_addNoteForm__errorMessage',"wl_addNoteForm__errorMessage");},o_wishlist.messages.Message.createItemMessage=function(s,e,t){return new o_wishlist.messages.Message(e,s,'.wl_js_item[data-variationid="'+t+'"] .wl_js_itemMessage',function(s){switch(s){case o_wishlist.messages.status.SUCCESS:return"p_message p_message--success wl_item__message";case o_wishlist.messages.status.ERROR:default:return"p_message p_message--error wl_item__message";}}(e),o_wishlist.wishlist.refresh.bind(o_wishlist.wishlist));},(o_wishlist=window.o_wishlist||{}).messages=o_wishlist.messages||{},o_wishlist.messages.render=function(s){this.renderWithTimeout(s,3e3);},o_wishlist.messages.renderWithTimeout=function(s,e){var t=document.querySelector(s.contentContainerSelector);function i(){t.style.display="none",void 0!==s.displayCallback&&s.displayCallback();}if(t){var r=document.createElement("div");!function(e){e.classList.add("wl_message"),s.containerClasses&&e.classList.add.apply(e.classList,s.containerClasses.split(" "));}(r),function(e){if(s.status===o_wishlist.messages.status.SUCCESS){var t=document.createElement("button");t.classList.add("p_message__button"),t.innerHTML="x",t.addEventListener("click",i),e.appendChild(t);}}(r),function(e){var t=document.createElement("span");t.classList.add("wl_message__content"),t.innerHTML=s.content,e.appendChild(t);}(r),function(t){s.status===o_wishlist.messages.status.SUCCESS&&setTimeout(function(){o_util.animation.fadeOut(t,i);},e);}(r),t.innerHTML="",t.appendChild(r),t.style.display="block",o_wishlist.wishlist&&o_wishlist.wishlist.refresh&&o_wishlist.wishlist.refresh();}},(o_wishlist=window.o_wishlist||{}).messages=o_wishlist.messages||{},o_wishlist.messages.MessageStorageHandler=function(){this.messagesKey="notificationMessages",this.storage=new o_global.Storage(window.sessionStorage);},o_wishlist.messages.MessageStorageHandler.prototype.save=function(s){if(s instanceof o_wishlist.messages.Message){var e=this.readAll()||[];e.push(s),this.storage.setItem(this.messagesKey,JSON.stringify(e));}},o_wishlist.messages.MessageStorageHandler.prototype.readAll=function(){var s,e=this.storage.getItem(this.messagesKey);if(e)try{s=JSON.parse(e).map(function(s){return o_wishlist.messages.Message.fromJSON(s);});}catch(s){o_global.debug.status().activated&&console.error(s);}return s||[];},o_wishlist.messages.MessageStorageHandler.prototype.renderAllInStorage=function(){this.readAll().forEach(function(s){o_wishlist.messages.render(s);}),this.storage.removeItem(this.messagesKey);},o_wishlist.messages.storageHandler=new o_wishlist.messages.MessageStorageHandler(),(o_wishlist=window.o_wishlist||{}).server={},o_wishlist.server.CONTEXT="/order-wishlist",o_wishlist.server.CUSTOM_WISHLIST_URL=o_wishlist.server.CONTEXT+"/wishlist/custom/",o_wishlist.server.SYSTEM_WISHLIST_URL=o_wishlist.server.CONTEXT+"/wishlist/system",o_wishlist.server.LIKED_WISHLIST_URL=o_wishlist.server.CONTEXT+"/wishlist/liked",o_wishlist.server.WISHLISTS_URL=o_wishlist.server.CONTEXT+"/wishlists",o_wishlist.server.URL_PREFIX=function(s,e){var t={system:o_wishlist.server.SYSTEM_WISHLIST_URL,liked:o_wishlist.server.LIKED_WISHLIST_URL,custom:o_wishlist.server.CUSTOM_WISHLIST_URL+s};return t[e]||t.system;},o_wishlist.server.cache=function(s,e){return function(t){return o_wishlist.server.cache[s]?o_wishlist.server.cache[s]:(e&&setTimeout(function(){o_wishlist.server.cache[s]=void 0;},e),o_wishlist.server.cache[s]=t(),o_wishlist.server.cache[s]);};},o_wishlist.server.wishlist={},o_wishlist.serverHandler=o_wishlist.serverHandler||{},o_wishlist.server.wishlist.redirectTo=function(s){window.location.assign(s);},o_wishlist.server.wishlist.switchView=function(s,e,t){return o_util.ajax.post(o_wishlist.server.wishlist.getBaseUrl(e,t)+"/viewType/"+s);},o_wishlist.server.wishlist.deleteCustomWishlist=function(s){return o_util.ajax.post(o_wishlist.server.CUSTOM_WISHLIST_URL+s+"/delete");},o_wishlist.server.wishlist.addCustomWishlist=function(s,e){return o_util.ajax({url:o_wishlist.server.CONTEXT+"/wishlist/custom",data:"wishlistName="+encodeURIComponent(s),headers:o_wishlist.server.wishlist.buildTrackingHeader(e),method:"POST",contentType:"application/x-www-form-urlencoded; charset=utf-8"});},o_wishlist.server.wishlist.renameCustomWishlist=function(s,e){return o_util.ajax.post(o_wishlist.server.CUSTOM_WISHLIST_URL+s+"/rename","newWishlistName="+encodeURIComponent(e));},o_wishlist.server.wishlist.loadAvailableWishlists=function(s,e,t){var i=t?"wishlist="+t:"",r=e?"type="+e:"",a=i||r?"?":"",o=i&&r?"&":"";return o_util.ajax.get(o_wishlist.server.WISHLISTS_URL+"/"+s+a+i+o+r);},o_wishlist.server.wishlist.buildTrackingHeader=function(s){var e={};return e.wishlistctd=encodeURI(JSON.stringify(s)),e;},o_wishlist.server.wishlist.getVariationsFromBasket=function(){return o_util.ajax.get("/order/basket/variationIds");},o_wishlist.server.wishlist.item={},o_wishlist.server.wishlist.item.addToWishlist=function(s,e,t,i,r){var a=e?"&redirectAfterLoginUrl="+encodeURIComponent(window.location.href):"",o="&addedFrom="+t,l="&actionType="+i;return o_util.ajax({url:o_wishlist.server.wishlist.getBaseUrl(e?"custom":"system",e)+"/items",method:"POST",headers:o_wishlist.server.wishlist.buildTrackingHeader(r),data:"variationId="+s+o+a+l,contentType:"application/x-www-form-urlencoded; charset=utf-8"});},o_wishlist.server.wishlist.item.deleteFromWishlist=function(s,e,t,i){return o_util.ajax({url:o_wishlist.server.wishlist.item.getBaseUrl(s,t,i)+"/delete",method:"POST",headers:o_wishlist.server.wishlist.buildTrackingHeader(e),contentType:"application/x-www-form-urlencoded; charset=utf-8"});},o_wishlist.server.wishlist.item.move=function(s,e,t,i){var r="";return""!==s&&void 0!==s&&(r="sanitizedName="+s),o_util.ajax.post(o_wishlist.server.wishlist.item.getBaseUrl(e,t,i)+"/move",r);},o_wishlist.server.wishlist.item.setNote=function(s,e,t,i){var r=void 0!==s?"noteText="+encodeURIComponent(s):void 0;return o_util.ajax.post(o_wishlist.server.wishlist.item.getBaseUrl(e,t,i)+"/setNote",r);},o_wishlist.server.wishlist.getBaseUrl=function(s,e){return o_wishlist.server.URL_PREFIX(e,s);},o_wishlist.server.wishlist.item.getBaseUrl=function(s,e,t){return o_wishlist.server.wishlist.getBaseUrl(e,t)+"/items/"+s;},(o_wishlist=window.o_wishlist||{}).Toggles=function(){var s={},e=[];return s.enabled=function(s){return e.indexOf(s)>-1;},s.update=function(){var s=document.querySelector(".wl_toggles");e=s?(s.getAttribute("data-toggles")||"").split(","):[];},s.update(),s;}(),(o_wishlist=window.o_wishlist||{}).utils=o_wishlist.utils||{},o_wishlist.utils.wrapAll=function(s,e){var t=s.length?s[0]:s,i=t.parentNode,r=t.nextSibling;for(e.appendChild(t);s.length;){e.appendChild(s[0]);}r?i.insertBefore(e,r):i.appendChild(e);},o_wishlist.utils.isLoggedIn=function(){try{return o_user.loginState.presenter.isLoggedIn();}catch(s){return!1;}},o_wishlist.utils.isKnownUser=function(){try{return o_user.loginState.presenter.isLoggedIn()||"KNOWN_VISITOR"===o_user.loginState.presenter.loginState();}catch(s){return!1;}},o_wishlist.trackingWrapper=o_wishlist.trackingWrapper||{},o_wishlist.trackingWrapper.failSafeSendEventToTrackingServer=function(s){try{o_tracking.bct.sendEventToTrackingServer(s);}catch(s){console.log("Failed to call o_tracking.bct.sendEventToTrackingServer",s);}},o_wishlist.trackingWrapper.failSafeTrackOnNextPageImpression=function(s){try{o_tracking.bct.trackOnNextPageImpression(s);}catch(s){console.log("Failed to call o_tracking.bct.trackOnNextPageImpression",s);}},o_wishlist.trackingWrapper.failSafeSendMergeToTrackingServer=function(s){try{o_tracking.bct.sendMergeToTrackingServer(s);}catch(s){console.log("Failed to call o_tracking.bct.sendMergeToTrackingServer",s);}},o_wishlist.trackingWrapper.failSafeGetMergeParameters=function(){try{return o_tracking.bct.getMergeParameters();}catch(s){return console.log("Failed to call o_tracking.bct.getMergeParameters",s),"";}};//# sourceMappingURL=/order-wishlist/statics/ft1.wishlist-core.common.scala.fcd4f538.js.map